<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Organizer - AI-Powered Document Management</title>
    <meta name="description" content="Automatically organize your scanned documents with AI. 100% local processing - your files never leave your computer.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÅ</text></svg>">
    <style>
        :root {
            --primary: #4F46E5;
            --primary-hover: #4338CA;
            --primary-light: #EEF2FF;
            --success: #10B981;
            --success-light: #D1FAE5;
            --warning: #F59E0B;
            --warning-light: #FEF3C7;
            --danger: #EF4444;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --gray-900: #111827;
            --radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --primary: #818CF8;
                --primary-hover: #A5B4FC;
                --primary-light: #1E1B4B;
                --success: #34D399;
                --success-light: #064E3B;
                --warning: #FBBF24;
                --warning-light: #78350F;
                --gray-50: #111827;
                --gray-100: #1F2937;
                --gray-200: #374151;
                --gray-300: #4B5563;
                --gray-400: #6B7280;
                --gray-500: #9CA3AF;
                --gray-600: #D1D5DB;
                --gray-700: #E5E7EB;
                --gray-800: #F3F4F6;
                --gray-900: #F9FAFB;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 64px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--gray-900);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--gray-600);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--primary);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background 0.2s;
        }

        .nav-cta:hover {
            background: var(--primary-hover);
        }

        /* Hero Section */
        .hero {
            padding: 8rem 0 4rem;
            text-align: center;
            background: linear-gradient(180deg, var(--gray-50) 0%, var(--gray-100) 100%);
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--success-light);
            color: var(--success);
            border-radius: 100px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--gray-900);
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .hero h1 span {
            background: linear-gradient(135deg, var(--primary) 0%, #8B5CF6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.875rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--gray-100);
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-200);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Demo Visual */
        .demo-visual {
            max-width: 800px;
            margin: 3rem auto 0;
            background: var(--gray-100);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
        }

        .folder-tree {
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.875rem;
            text-align: left;
            color: var(--gray-700);
            line-height: 1.8;
        }

        .folder-tree .folder {
            color: var(--primary);
        }

        .folder-tree .file {
            color: var(--gray-600);
        }

        .folder-tree .arrow {
            color: var(--success);
            font-weight: bold;
        }

        /* How It Works */
        .how-it-works {
            padding: 5rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .section-header p {
            color: var(--gray-600);
            font-size: 1.125rem;
        }

        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .step {
            text-align: center;
            padding: 2rem;
        }

        .step-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2.5rem;
        }

        .step-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-size: 0.875rem;
            font-weight: 700;
            line-height: 28px;
            margin-bottom: 1rem;
        }

        .step h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .step p {
            color: var(--gray-600);
        }

        /* Features */
        .features {
            padding: 5rem 0;
            background: var(--gray-100);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: var(--gray-600);
            font-size: 0.9375rem;
        }

        /* Installation */
        .installation {
            padding: 5rem 0;
        }

        .install-tabs {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .install-tab {
            padding: 0.75rem 1.5rem;
            border: none;
            background: var(--gray-100);
            color: var(--gray-600);
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .install-tab:hover {
            background: var(--gray-200);
        }

        .install-tab.active {
            background: var(--primary);
            color: white;
        }

        .install-content {
            max-width: 700px;
            margin: 0 auto;
        }

        .install-panel {
            display: none;
        }

        .install-panel.active {
            display: block;
        }

        .code-block {
            background: var(--gray-900);
            border-radius: var(--radius);
            padding: 1.5rem;
            overflow-x: auto;
            position: relative;
        }

        .code-block code {
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.875rem;
            color: #E5E7EB;
            white-space: pre;
            line-height: 1.8;
        }

        .code-block .comment {
            color: #6B7280;
        }

        .code-block .command {
            color: #34D399;
        }

        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            padding: 0.5rem;
            background: var(--gray-700);
            border: none;
            border-radius: 6px;
            color: var(--gray-300);
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--gray-600);
            color: white;
        }

        .install-note {
            margin-top: 1.5rem;
            padding: 1rem;
            background: var(--warning-light);
            border-radius: 8px;
            font-size: 0.875rem;
            color: var(--warning);
        }

        /* App Status */
        .app-status {
            padding: 5rem 0;
            background: var(--gray-100);
        }

        .status-card {
            max-width: 500px;
            margin: 0 auto;
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            font-size: 1rem;
            font-weight: 500;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.checking {
            background: var(--warning);
        }

        .status-dot.running {
            background: var(--success);
            animation: none;
        }

        .status-dot.stopped {
            background: var(--danger);
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .port-config {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: 0.875rem;
            color: var(--gray-500);
        }

        .port-config input {
            width: 80px;
            padding: 0.4rem 0.6rem;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            text-align: center;
            font-size: 0.875rem;
            background: var(--gray-50);
            color: var(--gray-800);
        }

        .port-config button {
            padding: 0.4rem 0.8rem;
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            color: var(--gray-600);
            cursor: pointer;
            font-size: 0.875rem;
        }

        .port-config button:hover {
            background: var(--gray-200);
        }

        /* FAQ */
        .faq {
            padding: 5rem 0;
        }

        .faq-list {
            max-width: 700px;
            margin: 0 auto;
        }

        .faq-item {
            border-bottom: 1px solid var(--gray-200);
        }

        .faq-question {
            width: 100%;
            padding: 1.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: none;
            border: none;
            text-align: left;
            font-size: 1.0625rem;
            font-weight: 600;
            color: var(--gray-900);
            cursor: pointer;
        }

        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            color: var(--gray-400);
            transition: transform 0.2s;
        }

        .faq-item.open .faq-question::after {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .faq-item.open .faq-answer {
            max-height: 500px;
        }

        .faq-answer p {
            padding-bottom: 1.5rem;
            color: var(--gray-600);
        }

        /* Footer */
        footer {
            padding: 3rem 0;
            background: var(--gray-900);
            color: var(--gray-400);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            color: var(--gray-400);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .demo-visual {
                padding: 1rem;
            }

            .folder-tree {
                font-size: 0.75rem;
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="#" class="nav-logo">
                <span>üìÅ</span>
                Document Organizer
            </a>
            <ul class="nav-links">
                <li><a href="#how-it-works">How it Works</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#install">Install</a></li>
                <li><a href="#faq">FAQ</a></li>
            </ul>
            <a href="https://github.com/batyrch/document_organiser" class="nav-cta" target="_blank">
                View on GitHub
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-badge">
                <span>üîí</span>
                100% Local Processing - Your files never leave your computer
            </div>
            <h1>
                Organize Documents<br>
                <span>with AI Magic</span>
            </h1>
            <p class="hero-subtitle">
                Drop your scanned documents in a folder. AI categorizes them using the
                Johnny.Decimal system. Everything runs locally on your machine.
            </p>
            <div class="hero-buttons">
                <a href="#install" class="btn btn-primary">
                    Get Started
                </a>
                <button class="btn btn-secondary" id="launchBtn" disabled>
                    <span id="btnIcon">‚è≥</span>
                    <span id="btnText">Checking local app...</span>
                </button>
            </div>

            <!-- Demo Visual -->
            <div class="demo-visual">
                <div class="folder-tree">
<span class="folder">üìÅ inbox/</span>                           <span class="folder">üìÅ Documents/</span>
<span class="file">‚îú‚îÄ‚îÄ scan001.pdf</span>                        <span class="folder">‚îú‚îÄ‚îÄ 10-19 Finance/</span>
<span class="file">‚îú‚îÄ‚îÄ receipt.jpg</span>          <span class="arrow">‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫</span>       <span class="folder">‚îÇ   ‚îî‚îÄ‚îÄ 14 Receipts/</span>
<span class="file">‚îú‚îÄ‚îÄ contract.pdf</span>                     <span class="file">‚îÇ       ‚îú‚îÄ‚îÄ 14.01 Amazon Receipt 2024.pdf</span>
<span class="file">‚îî‚îÄ‚îÄ lab_results.pdf</span>                  <span class="file">‚îÇ       ‚îî‚îÄ‚îÄ 14.02 TK Insurance 2024.pdf</span>
                                         <span class="folder">‚îú‚îÄ‚îÄ 20-29 Medical/</span>
                                         <span class="folder">‚îÇ   ‚îî‚îÄ‚îÄ 21 Records/</span>
                                         <span class="file">‚îÇ       ‚îî‚îÄ‚îÄ 21.01 Lab Results 2024.pdf</span>
                                         <span class="folder">‚îî‚îÄ‚îÄ 30-39 Legal/</span>
                                             <span class="folder">‚îî‚îÄ‚îÄ 31 Contracts/</span>
                                                 <span class="file">‚îî‚îÄ‚îÄ 31.01 Apartment Lease 2024.pdf</span>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2>How It Works</h2>
                <p>Three simple steps to organized documents</p>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-icon">üì•</div>
                    <span class="step-number">1</span>
                    <h3>Drop Files</h3>
                    <p>Place scanned documents, receipts, or any files into your inbox folder. Supports PDF, images, Word, Excel, and more.</p>
                </div>
                <div class="step">
                    <div class="step-icon">ü§ñ</div>
                    <span class="step-number">2</span>
                    <h3>AI Analyzes</h3>
                    <p>AI reads each document, extracts key information, and suggests the right category. Works with Claude, GPT, or local Ollama.</p>
                </div>
                <div class="step">
                    <div class="step-icon">‚ú®</div>
                    <span class="step-number">3</span>
                    <h3>Auto-Organized</h3>
                    <p>Files are moved to structured folders with descriptive names. Metadata is saved for easy searching later.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-header">
                <h2>Features</h2>
                <p>Everything you need to tame your document chaos</p>
            </div>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Privacy-First</h3>
                    <p>All processing happens locally on your machine. Only document text is sent to AI providers for categorization.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü§ñ</div>
                    <h3>Multiple AI Providers</h3>
                    <p>Choose Anthropic Claude, OpenAI GPT, local Ollama, or simple keyword matching. Your choice.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üè∑Ô∏è</div>
                    <h3>Johnny.Decimal System</h3>
                    <p>Proven organizational structure with Areas and Categories. Finance, Medical, Legal, Work, Personal - all sorted.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìÑ</div>
                    <h3>Multi-Format Support</h3>
                    <p>PDF (including scanned), images (PNG, JPG), Office documents (DOCX, XLSX, PPTX), and text files.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîç</div>
                    <h3>OCR Built-In</h3>
                    <p>Scanned documents? No problem. Docling and Tesseract extract text from images automatically.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Duplicate Detection</h3>
                    <p>SHA256 content hashing ensures you never file the same document twice.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Installation -->
    <section class="installation" id="install">
        <div class="container">
            <div class="section-header">
                <h2>Installation</h2>
                <p>Get up and running in minutes</p>
            </div>

            <div class="install-tabs">
                <button class="install-tab active" data-tab="macos">macOS</button>
                <button class="install-tab" data-tab="windows">Windows</button>
                <button class="install-tab" data-tab="linux">Linux</button>
            </div>

            <div class="install-content">
                <!-- macOS -->
                <div class="install-panel active" id="panel-macos">
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode('macos')">Copy</button>
                        <code id="code-macos"><span class="comment"># 1. Install Python (if needed)</span>
<span class="command">brew install python</span>

<span class="comment"># 2. Clone the repository</span>
<span class="command">git clone https://github.com/batyrch/document_organiser</span>
<span class="command">cd document-organiser</span>

<span class="comment"># 3. Install dependencies</span>
<span class="command">pip install -r requirements.txt</span>

<span class="comment"># 4. Run the app</span>
<span class="command">streamlit run ui.py</span></code>
                    </div>
                </div>

                <!-- Windows -->
                <div class="install-panel" id="panel-windows">
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode('windows')">Copy</button>
                        <code id="code-windows"><span class="comment"># 1. Install Python from python.org</span>
<span class="comment"># Make sure to check "Add Python to PATH"</span>

<span class="comment"># 2. Clone the repository</span>
<span class="command">git clone https://github.com/batyrch/document_organiser</span>
<span class="command">cd document-organiser</span>

<span class="comment"># 3. Install dependencies</span>
<span class="command">pip install -r requirements.txt</span>

<span class="comment"># 4. Run the app</span>
<span class="command">streamlit run ui.py</span></code>
                    </div>
                </div>

                <!-- Linux -->
                <div class="install-panel" id="panel-linux">
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode('linux')">Copy</button>
                        <code id="code-linux"><span class="comment"># 1. Install Python</span>
<span class="command">sudo apt install python3 python3-pip</span>

<span class="comment"># 2. Clone the repository</span>
<span class="command">git clone https://github.com/batyrch/document_organiser</span>
<span class="command">cd document-organiser</span>

<span class="comment"># 3. Install dependencies</span>
<span class="command">pip install -r requirements.txt</span>

<span class="comment"># 4. Run the app</span>
<span class="command">streamlit run ui.py</span></code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- App Status -->
    <section class="app-status" id="status">
        <div class="container">
            <div class="section-header">
                <h2>Launch App</h2>
                <p>If you have the app running locally, launch it here</p>
            </div>

            <div class="status-card">
                <div class="status-indicator">
                    <span class="status-dot checking" id="statusDot"></span>
                    <span id="statusText">Checking if app is running...</span>
                </div>

                <button class="btn btn-primary" id="launchBtn2" disabled style="width: 100%;">
                    <span id="btnIcon2">‚è≥</span>
                    <span id="btnText2">Checking...</span>
                </button>

                <div class="port-config">
                    <label for="portInput">Port:</label>
                    <input type="number" id="portInput" value="8501" min="1" max="65535">
                    <button id="retryBtn">Check</button>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="faq" id="faq">
        <div class="container">
            <div class="section-header">
                <h2>Frequently Asked Questions</h2>
            </div>

            <div class="faq-list">
                <div class="faq-item">
                    <button class="faq-question">Is my data safe?</button>
                    <div class="faq-answer">
                        <p>Yes! All document processing happens locally on your computer. The only data sent externally is the extracted text to your chosen AI provider (Claude, GPT, etc.) for categorization. If you use Ollama, everything stays completely local.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">What AI providers are supported?</button>
                    <div class="faq-answer">
                        <p>Document Organizer supports Anthropic Claude, OpenAI GPT, AWS Bedrock, Ollama (local), Claude Code CLI, and a simple keyword-only mode. You can switch between providers in the settings.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Is it free to use?</button>
                    <div class="faq-answer">
                        <p>The app itself is free and open source. However, using cloud AI providers (Claude, GPT) requires their respective API keys and may incur costs. Using Ollama or keyword mode is completely free.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">What is Johnny.Decimal?</button>
                    <div class="faq-answer">
                        <p>Johnny.Decimal is a system for organizing your life. It groups things into Areas (10-19 Finance, 20-29 Medical, etc.) and Categories within each area. Learn more at <a href="https://johnnydecimal.com/" target="_blank">johnnydecimal.com</a>.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I customize the categories?</button>
                    <div class="faq-answer">
                        <p>Currently the categories are predefined to cover common document types (Finance, Medical, Legal, Work, Personal). Custom categories are planned for a future release.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <span>üìÅ Document Organizer - Open Source</span>
                <div class="footer-links">
                    <a href="https://github.com/batyrch/document_organiser" target="_blank">GitHub</a>
                    <a href="privacy.html">Privacy</a>
                    <a href="https://johnnydecimal.com/" target="_blank">Johnny.Decimal</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Configuration
        const CONFIG = {
            host: 'localhost',
            defaultPort: 8501,
            checkInterval: 5000,
            timeout: 2000,
        };

        // Elements
        const elements = {
            statusDot: document.getElementById('statusDot'),
            statusText: document.getElementById('statusText'),
            launchBtn: document.getElementById('launchBtn'),
            btnIcon: document.getElementById('btnIcon'),
            btnText: document.getElementById('btnText'),
            launchBtn2: document.getElementById('launchBtn2'),
            btnIcon2: document.getElementById('btnIcon2'),
            btnText2: document.getElementById('btnText2'),
            portInput: document.getElementById('portInput'),
            retryBtn: document.getElementById('retryBtn'),
        };

        let isRunning = false;
        let checkIntervalId = null;

        function getPort() {
            return parseInt(elements.portInput.value, 10) || CONFIG.defaultPort;
        }

        function getAppUrl() {
            return `http://${CONFIG.host}:${getPort()}`;
        }

        function updateUI(status) {
            elements.statusDot.className = `status-dot ${status}`;

            const configs = {
                'checking': {
                    text: 'Checking if app is running...',
                    disabled: true,
                    icon: '‚è≥',
                    btnText: 'Checking...'
                },
                'running': {
                    text: 'App is running locally',
                    disabled: false,
                    icon: 'üöÄ',
                    btnText: 'Launch Document Organizer'
                },
                'stopped': {
                    text: 'App is not running',
                    disabled: true,
                    icon: 'üì•',
                    btnText: 'Install first (see above)'
                }
            };

            const config = configs[status];
            elements.statusText.textContent = config.text;

            // Update both launch buttons
            [elements.launchBtn, elements.launchBtn2].forEach((btn, i) => {
                btn.disabled = config.disabled;
                const iconEl = i === 0 ? elements.btnIcon : elements.btnIcon2;
                const textEl = i === 0 ? elements.btnText : elements.btnText2;
                iconEl.textContent = config.icon;
                textEl.textContent = config.btnText;
            });
        }

        async function checkServerStatus() {
            updateUI('checking');

            const url = getAppUrl();

            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), CONFIG.timeout);

                await fetch(`${url}/healthz`, {
                    mode: 'no-cors',
                    signal: controller.signal,
                });

                clearTimeout(timeoutId);
                isRunning = true;
                updateUI('running');

                if (checkIntervalId) {
                    clearInterval(checkIntervalId);
                    checkIntervalId = null;
                }
            } catch (error) {
                isRunning = false;
                updateUI('stopped');

                if (!checkIntervalId) {
                    checkIntervalId = setInterval(checkServerStatus, CONFIG.checkInterval);
                }
            }
        }

        function launchApp() {
            if (isRunning) {
                window.open(getAppUrl(), '_blank');
            }
        }

        // Install tabs
        document.querySelectorAll('.install-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.install-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.install-panel').forEach(p => p.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(`panel-${tab.dataset.tab}`).classList.add('active');
            });
        });

        // FAQ accordion
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                item.classList.toggle('open');
            });
        });

        // Copy code
        function copyCode(platform) {
            const code = document.getElementById(`code-${platform}`).textContent;
            navigator.clipboard.writeText(code);
        }

        // Event listeners
        elements.launchBtn.addEventListener('click', launchApp);
        elements.launchBtn2.addEventListener('click', launchApp);
        elements.retryBtn.addEventListener('click', checkServerStatus);
        elements.portInput.addEventListener('change', checkServerStatus);

        // Initial check
        checkServerStatus();
    </script>
</body>
</html>
